<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>WebAssembly Loop</title>
</head>
<body>
  <script src="wasm/pong.js"></script>
  <script>

        // load the WebAssembly module
        fetch('wasm/pong.wasm')
            .then(response => response.arrayBuffer())
                .then(bytes => WebAssembly.instantiate(bytes, Module))
                    .then(result => {
                        setInterval(function() {
                            Module.ccall('moduleUpdate', null, [], []);
                        }, 1000 / 60);
            })
        .catch(console.error);

  </script>
</body>
</html>
